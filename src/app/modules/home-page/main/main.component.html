<div nz-row [nzGutter]="[16,24]">
    <div nz-col nzXs="0" nzMd="24" nzXl="0">
        <ng-container [ngTemplateOutlet]="navBar"></ng-container>
    </div>
    <div nz-col nzXs="24" nzXl="12">
        <div class="container main__container dis">
            <div nz-row nzAlign="top" class="main__helper">
                <div nz-col class="logo__hider">
                    <button class="logo__title" nz-row nzAlign="middle" (click)="hideModal()">
                        <img src="../../../../assets/img/logo.png">
                    </button>
                </div>
                <div nz-col class="main__hider">
                    <button class="nav__button logo__button" [@pulse]="isAnimate ? 'pulse' : 'normal'" (click)="navigate(buttonsList[0].link)">{{buttonsList[0].name | translate}}</button>
                </div>
            </div>
            <div nz-row [nzGutter]="[0,{xl:36,lg:36,md:36,sm:24,xs:24}]">
                <div nz-col nzSpan="24">
                    <h1 class="main__title">
                        {{'main.title' | translate}}
                    </h1>
                    <h3 class="main__text">
                        {{'main.text' | translate}}
                    </h3>
                </div>
                <div nz-col nzSpan="24">
                    <div class="main__button">
                        <button [@pulse]="isAnimate ? 'pulse' : 'normal'" (click)="showOfferModal()">{{'main.button' | translate}}</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container main__container app">
            <div nz-row [nzGutter]="[0,24]">
                <div nz-col nzSpan="24">
                    <div nz-row nzJustify="space-between" nzAlign="middle">
                        <div nz-col>
                            <button nz-dropdown [nzDropdownMenu]="menu" nzTrigger="click" class="nav__button nav__button-burger" [@pulse]="isAnimate ? 'pulse' : 'normal'">
                                {{currentLang}}
                                <span nz-icon nzType="down" nzTheme="outline" class="nav__button-icon"></span>
                            </button>
                        </div>
                        <div nz-col>
                            <button class="burger" [ngClass]="isAnimateModal ? 'opened' : ''" (click)="openModal()">
                                <span></span>
                            </button>
                        </div>
                    </div>
                </div>
                <div nz-col nzSpan="24">
                    <div nz-row style="justify-content: center;">
                        <button class="logo__title" (click)="hideModal()">
                            <img nz-image [nzFallback]="''" nzSrc="../../../../assets/img/logo.png">
                        </button> 
                    </div>   
                </div>
            </div>
            <div nz-row [nzGutter]="[0,{xl:36,lg:36,md:36,sm:24,xs:24}]">
                <div nz-col nzSpan="24">
                    <h1 class="main__title">
                        {{'main.title' | translate}}
                    </h1>
                    <h3 class="main__text">
                        {{'main.text' | translate}}
                    </h3>
                </div>
                <div nz-col nzSpan="24">
                    <div class="main__button">
                        <button [@pulse]="isAnimate ? 'pulse' : 'normal'" (click)="showOfferModal()">{{'main.button' | translate}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div nz-col nzXs="24" nzXl="12">
        <div class="content">
            <div class="content__1">
                <ng-container [ngTemplateOutlet]="navBar"></ng-container>
            </div>
            <div style="flex: 1 1 auto;">
                <swiper [config]="config" style="width: 100%; height: 100%;">
                    <ng-template swiperSlide *ngFor="let photo of photos">
                        <div class="main__img">
                            <img nz-image [nzSrc]="'../../../../assets/img/main/' + photo" [nzFallback]="fallback" alt="main" class="img">
                        </div>
                    </ng-template>
                </swiper>
            </div>
        </div>
    </div>
</div>

<ng-template #navBar>
    <div class="container nav__container">
        <div nz-row>
            <div nz-col>
                <button  class="nav__button nav__hider" [@pulse]="isAnimate ? 'pulse' : 'normal'" (click)="navigate(buttonsList[0].link)">{{buttonsList[0].name | translate}}</button>
                <button *ngFor="let button of buttonsList.slice(1)" class="nav__button" [@pulse]="isAnimate ? 'pulse' : 'normal'" (click)="navigate(button.link)">{{button.name | translate}}</button>
            </div>
            <div nz-col>
                <button nz-dropdown [nzDropdownMenu]="menu" nzTrigger="click" class="nav__button" [@pulse]="isAnimate ? 'pulse' : 'normal'">
                    {{currentLang}}
                    <span nz-icon nzType="down" nzTheme="outline" class="nav__button-icon"></span>
                </button>
            </div>
        </div>
    </div>
</ng-template>

<nz-dropdown-menu #menu="nzDropdownMenu">
    <ul nz-menu>
        <li nz-menu-item [nzDisabled]="option.lang === currentLang" *ngFor="let option of options" (click)="changeLang(option.lang)">{{option.lang}}</li>
    </ul>
</nz-dropdown-menu>

<ng-container *ngIf="isModalVisible">
    <div class="modal__wrapper" [@fadeInOut]>
        <div class="modal__container">
            <div class="modal__box">   
                <div nz-row nzJustify="center">
                    <button class="modal__title" (click)="hideModal()">
                        <img src="../../../../assets/img/logotitle.png" alt="">
                    </button>
                </div>
                <div class="modal__scroll">
                    <div class="modal__buttons">
                        <button *ngFor="let button of buttonsList.slice(0,3)"  class="nav__button" (click)="navigate(button.link)">{{button.name | translate}}</button>
                    </div>
                    <ul class="modal__list">
                        <li>
                            {{'contacts.phone' | translate}}: 
                            <a [href]="'tel:' + contactsList.phone">{{contactsList.phone}}</a>
                        </li>
                        <li>
                            {{'contacts.mail' | translate}}: 
                            <a [href]="'mailto:' + contactsList.mail">{{contactsList.mail}}</a>
                        </li>
                        <li>
                            {{'contacts.book' | translate}}: 
                            <a [href]="'mailto:' + contactsList.book">{{contactsList.book}}</a>
                        </li>
                    </ul>
                    <div nz-row [nzGutter]="[0,16]">
                        <div nz-col nzSpan="24">
                            <button class="modal__button" (click)="openLink(linksList.whatsApp)">TikTok</button>
                        </div>
                        <div nz-col nzSpan="24">
                            <button class="modal__button" (click)="openLink(linksList.instagram)">Instagram</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</ng-container>

<go-modal [isVisible]="isOfferModal" (isClosed)="showOfferModal()"></go-modal>
